<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
      layout:decorate="layout/template"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cadastro de Título</title>
</head>
<section layout:fragment="conteudo">
    <form action="/titulos" method="POST" th:object="${titulo}">
        <div th:insert="~{layout/mensagem}"></div>

        <div class="card">
            <div class="card-header">
                <div class="clearfix">
                    <h5 class="titulo-panel">Novo Título</h5>
                    <a class="btn btn-link aling-link-panel-right" href="/titulos">Pesquisa de Título</a>
                </div>
            </div>
            <div class="card-body">
                <div class="form-group row"
                     th:classappend="${#fields.hasErrors('descricao')} ? 'font-weight-bold text-danger' : ''">
                    <label class="col-sm-2 col-form-label" for="staticDescricao">Descrição</label>
                    <div class="col-sm-4">
                        <input class="form-control" id="staticDescricao" name="descricao" placeholder="Apartamento 404"
                               th:classappend="${#fields.hasErrors('descricao')} ? 'border border-danger' : ''"
                               type="text">
                        <span th:if="!${#fields.detailedErrors('descricao').isEmpty()}"
                              th:text="${#fields.detailedErrors('descricao').get(0).message}"></span>
                    </div>
                </div>
                <div class="form-group row"
                     th:classappend="${#fields.hasErrors('dataVencimento')} ? 'font-weight-bold text-danger' : ''">
                    <label class="col-sm-2 col-form-label" for="inputDataVencimento">Data de Vencimento</label>
                    <div class="col-sm-2">
                        <div class="input-group mb-2">
                            <input class="datepicker_input form-control" id="inputDataVencimento" name="dataVencimento"
                                   placeholder="dd/mm/aaaa" th:classappend="${#fields.hasErrors('dataVencimento')} ? 'border border-danger' : ''"
                                   type="text"/>
                            <i class="bi bi-calendar-date input-group-text"></i>
                        </div>
                        <span th:if="!${#fields.detailedErrors('dataVencimento').isEmpty()}"
                              th:text="${#fields.detailedErrors('dataVencimento').get(0).message}"></span>
                    </div>
                </div>
                <div class="form-group row"
                     th:classappend="${#fields.hasErrors('valor')} ? 'font-weight-bold text-danger' : ''">
                    <label class="col-sm-2 col-form-label" for="inputValor">Valor</label>
                    <div class="col-sm-2">
                        <input class="form-control formatMonetario" data-decimal="," data-thousands="." id="inputValor"
                               name="valor" placeholder="0,00" th:classappend="${#fields.hasErrors('valor')} ? 'border border-danger' : ''"
                               type="text">
                        <span th:if="!${#fields.detailedErrors('valor').isEmpty()}"
                              th:text="${#fields.detailedErrors('valor').get(0).message}"></span>
                    </div>
                </div>
                <div class="form-group row"
                     th:classappend="${#fields.hasErrors('status')} ? 'font-weight-bold text-danger' : ''">
                    <label class="col-sm-2 col-form-label" for="inputStatus">Status</label>
                    <div class="col-sm-2">
                        <select class="form-control" id="inputStatus" name="status"
                                th:classappend="${#fields.hasErrors('status')} ? 'border border-danger' : ''">
                            <option value="">Selecionar</option>
                            <option th:each="status : ${listaStatusTitulo}" th:text="${status.descricao}"
                                    th:value="${status}"></option>
                        </select>
                        <span th:if="!${#fields.detailedErrors('status').isEmpty()}"
                              th:text="${#fields.detailedErrors('status').get(0).message}"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-2 offset-md-2">
                        <button class="btn btn-primary my-1" type="submit">Salvar</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</section>

</html>